<div class="container">
  <div class="row">
    <h1 class="display-4">New book</h1>
  </div>
  <div class="row">
    <form autocomplete="off" class="col-lg-8 offset-lg-2" [formGroup]="bookForm" (ngSubmit)="saveBook()">
      <div class="form-group">
        <label for="name">Name</label>
        <input
          class="form-control"
          id="name"
          formControlName="name"
        >
        <div
          *ngIf="bookForm.controls?.name?.invalid && bookForm.controls?.name?.touched && bookForm.controls?.name?.errors?.required"
          class="alert alert-danger"
        >
          Name is required
        </div>
        <div
          *ngIf="bookForm.invalid && bookForm.errors?.bookExists"
          class="alert alert-danger"
        >
          Book already exists
        </div>
      </div>
      <div class="form-group">
        <label for="author">Author</label>
        <input class="form-control" id="author" formControlName="author">
        <div
          *ngIf="bookForm.controls?.author?.invalid && bookForm.controls?.author?.touched && bookForm.controls?.author?.errors?.required"
          class="alert alert-danger"
        >
          Author is required
        </div>
      </div>
      <div class="form-group">
        <label for="imageUrl">Cover</label>
        <input class="form-control" id="imageUrl" formControlName="imageUrl">
        <div
          *ngIf="bookForm.controls?.imageUrl?.invalid && bookForm.controls?.imageUrl?.touched && bookForm.controls?.imageUrl?.errors?.url"
          class="alert alert-danger"
        >
          Image's url is invalid
        </div>
      </div>
      <div class="form-group form-check">
        <input type="checkbox" class="form-check-input" id="isSoldOut" formControlName="isSoldOut">
        <label class="form-check-label" for="isSoldOut">Is sold out</label>
      </div>
      <div class="btn-group">
        <a class="btn btn-danger" routerLink="/books">cancel</a>
        <button type="submit" class="btn btn-success" [disabled]="!bookForm.valid || bookForm.pending">save</button>
      </div>
    </form>
  </div>
</div>
